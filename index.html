<!DOCTYPE html>
<html>
  <head>
    <title>Twitter clone</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>

  </head>
  <style>
    @font-face {
      font-family: myFirstFont;
      src: url(sansation_light.woff);
    }
    @font-face {
      font-family: 'Gotham XNarrow Thin';
      font-style: normal;
      font-weight: normal;
      src: url('GothamXNarrow-Thin.woff') format('woff');
    }
    h1 {
      font-family: myFirstFont;
    }
  </style>
  <body>
    <h1>Twitter <img src="https://static01.nyt.com/images/2014/08/10/magazine/10wmt/10wmt-jumbo-v4.jpg?quality=90&auto=webp" alt="Twitter logo" style="width:50px"></h1>
    <p >Tweets</p>
    <img></img>
    <button onclick="loadTweets()">See more tweets</button>
    <script>
      //$(document).ready(function myFunction(){ ... });

      function loadTweets(){
        var $body = $('body');
        //$body.html(''); //don't clear out body once button is clicked
        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          //var user = tweet.user; //me
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at.toLocaleString());
          $tweet.appendTo($body);
          var $user = $('<a></a>');
          $user.text(tweet.user);
          $user.click(function() {
            $userTweets = $('<div></div>');
            $userTweets.text(tweet.user + ': ' + JSON.stringify(streams.users[tweet.user]));
            $userTweets.appendTo($body);
          });
          $user.appendTo($body);
          index -= 1;
        }
      }  

      //Allow the user to click on a username to see that user's timeline.
      /** 
       * $tweet.user.click(function() {
            alert( "Handler for .click() called." );
          });
          */
      
      
    </script>
  </body>
</html>
